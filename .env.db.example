# Local PostgreSQL - 3 separate instances (see scripts/README.md)
# Copy to .env.db and adjust as needed.
#
# Usage:
#   - Root .env.db is used ONLY for local setup (docker-compose.local.yml) and
#     syncing (scripts/db-sync.sh). Scripts local.sh up/sync use PG_USER, PG_PASSWORD, etc. from here.
#   - Each package loads its own DATABASE_URL from its own .env. For local dev, set
#     package .env to match these credentials (e.g. use the URLs printed by `pnpm local:up`).

PG_EXTERNAL_PORT=5441
PG_MASTER_PORT=5442
PG_KEYCLOAK_PORT=5443
PG_USER=postgres
PG_PASSWORD=postgres
PG_DB=thrive_db

# Keycloak (uses dedicated keycloak-db instance)
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin
KEYCLOAK_PORT=8080
KC_DB_USERNAME=postgres
KC_DB_PASSWORD=postgres

# Master DB (tenant registry) - port 5442
MASTER_DATABASE_URL=postgresql://postgres:postgres@localhost:5442/master_db

# Tenant DB (default for dev) - port 5441
DATABASE_URL=postgresql://postgres:postgres@localhost:5441/thrive_db

# For local:sync - remote DB via SSH bastion (see scripts/README.md)
# Shared (all targets use same host if not overridden):
# SYNC_HOST=your-rds-endpoint.region.rds.amazonaws.com
# SYNC_PORT=5432
# SYNC_USER=dbadmin
# SYNC_PASSWORD=your-password
# SYNC_BASTON_KEY=/path/to/key.pem
# SYNC_BASTON_HOST=bastion-ip-or-dns
# SYNC_BASTON_USER=ec2-user
# SSH_PORT=22
# Per-target overrides (optional):
# SYNC_TENANT_HOST= SYNC_TENANT_PORT= SYNC_TENANT_NAME=thrive_db SYNC_TENANT_USER= SYNC_TENANT_PASSWORD=
# SYNC_MASTER_HOST= SYNC_MASTER_PORT= SYNC_MASTER_NAME=master_db SYNC_MASTER_USER= SYNC_MASTER_PASSWORD=
# SYNC_KEYCLOAK_HOST= SYNC_KEYCLOAK_PORT= SYNC_KEYCLOAK_NAME=keycloak_db SYNC_KEYCLOAK_USER= SYNC_KEYCLOAK_PASSWORD=
# Local tunnel ports (defaults: 15432 thrive, 15433 master, 15434 keycloak):
# LOCAL_PORT=15432
# LOCAL_MASTER_PORT=15433
# LOCAL_KEYCLOAK_PORT=15434
