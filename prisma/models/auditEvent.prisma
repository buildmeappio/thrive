model AuditEvent {
    id             String   @id @unique @default(uuid()) @db.Uuid
    organizationId String   @map("organization_id") @db.Uuid
    actorUserId    String?  @map("actor_user_id") @db.Uuid
    eventType      String   @map("event_type") @db.VarChar(255)
    targetType     String   @map("target_type") @db.VarChar(100)
    targetId       String?  @map("target_id") @db.Uuid
    metadataJson   Json?    @map("metadata_json")
    createdAt      DateTime @default(now()) @map("created_at") @db.Timestamptz()

    organization Organization @relation(fields: [organizationId], references: [id])
    actor        User?        @relation("AuditEventActor", fields: [actorUserId], references: [id])

    @@index([organizationId, createdAt])
    @@index([eventType])
    @@index([targetType, targetId])
    @@map("audit_events")
}
