model Account {
  id         String    @id @unique @default(uuid()) @db.Uuid
  roleId     String    @map("role_id") @db.Uuid
  userId     String    @map("user_id") @db.Uuid
  isVerified Boolean   @default(false) @map("is_verified")
  createdAt  DateTime  @default(now()) @map("created_at") @db.Timestamptz()
  updatedAt  DateTime  @updatedAt @map("updated_at") @db.Timestamptz()
  deletedAt  DateTime? @map("deleted_at") @db.Timestamptz()
  status     AccountStatus @default(ACTIVE) @map("status")

  role                 Role                  @relation(name: "AccountRole", fields: [roleId], references: [id])
  user                 User                  @relation(name: "AccountUser", fields: [userId], references: [id])
  verificationCodes    VerificationCodes[]   @relation("AccountVerification")
  managers             OrganizationManager[] @relation("AccountManager")
  examinations         Examination[]         @relation("ExaminerCases")
  assignedExaminations Examination[]         @relation("AssignedCases")
  examinerProfiles     ExaminerProfile[]

  @@unique([userId, roleId])
  @@map("accounts")
}
