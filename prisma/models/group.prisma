model Group {
  id             String         @id @unique @default(uuid()) @db.Uuid
  organizationId String         @map("organization_id") @db.Uuid
  name           String         @map("name") @db.VarChar(255)
  roleId         String         @map("role_id") @db.Uuid
  scopeType      GroupScopeType @map("scope_type")
  createdByManagerId String?       @map("created_by_manager_id") @db.Uuid

  createdAt DateTime  @default(now()) @map("created_at") @db.Timestamptz()
  updatedAt DateTime  @updatedAt @map("updated_at") @db.Timestamptz()
  deletedAt DateTime? @map("deleted_at") @db.Timestamptz()

  organization Organization  @relation(fields: [organizationId], references: [id])
  role         OrganizationRole @relation(fields: [roleId], references: [id])
  createdBy    OrganizationManager? @relation("GroupCreatedBy", fields: [createdByManagerId], references: [id])
  groupMembers GroupMember[]
  groupLocations GroupLocation[]
  invitations  OrganizationInvitation[] @relation("OrganizationInvitationGroup")

  @@index([organizationId])
  @@index([roleId])
  @@index([createdByManagerId])
  @@map("groups")
}

