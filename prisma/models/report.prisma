
model Report {
  id                        String       @id @unique @default(uuid()) @db.Uuid
  bookingId                 String       @unique @map("booking_id") @db.Uuid
  consentFormSigned         Boolean      @default(false) @map("consent_form_signed")
  latRuleAcknowledgment     Boolean      @default(false) @map("lat_rule_acknowledgment")
  referralQuestionsResponse String       @map("referral_questions_response") @db.Text
  examinerName              String       @map("examiner_name") @db.VarChar(255)
  professionalTitle         String       @map("professional_title") @db.VarChar(255)
  dateOfReport              DateTime     @map("date_of_report") @db.Date
  signatureType             String?      @map("signature_type") @db.VarChar(50)
  signatureData             String?      @map("signature_data") @db.Text
  confirmationChecked       Boolean      @default(false) @map("confirmation_checked")
  googleDocId               String?      @map("google_doc_id") @db.VarChar(255)
  status                    ReportStatus @default(DRAFT) @map("status")

  createdAt DateTime  @default(now()) @map("created_at") @db.Timestamptz()
  updatedAt DateTime  @updatedAt @map("updated_at") @db.Timestamptz()
  deletedAt DateTime? @map("deleted_at") @db.Timestamptz()

  booking           ClaimantBooking        @relation("BookingReports", fields: [bookingId], references: [id])
  dynamicSections   ReportDynamicSection[] @relation("ReportDynamicSections")
  referralDocuments ReportDocument[]       @relation("ReportReferralDocuments")

  @@index([bookingId])
  @@map("reports")
}

