
model OrganizationManager {
  id                String    @id @unique @default(uuid()) @db.Uuid
  organizationId    String    @map("organization_id") @db.Uuid
  accountId         String    @map("account_id") @db.Uuid
  organizationRoleId String?  @map("organization_role_id") @db.Uuid
  jobTitle          String?   @map("job_title") @db.VarChar(255)
  departmentId      String?   @map("department_id") @db.Uuid
  createdAt         DateTime  @default(now()) @map("created_at") @db.Timestamptz()
  updatedAt         DateTime  @updatedAt @map("updated_at") @db.Timestamptz()
  deletedAt         DateTime? @map("deleted_at") @db.Timestamptz()

  account              Account                @relation(name: "AccountManager", fields: [accountId], references: [id])
  organization         Organization           @relation(name: "OrganizationManager", fields: [organizationId], references: [id])
  department           Department?            @relation(name: "DepartmentManager", fields: [departmentId], references: [id])
  organizationRole     OrganizationRole?      @relation("OrganizationManagerRole", fields: [organizationRoleId], references: [id])
  locationMemberships  UserLocationMembership[] @relation
  createdGroups        Group[]                @relation("GroupCreatedBy")
  groupMembers         GroupMember[]
  invitationsSent      OrganizationInvitation[] @relation("OrganizationInvitationInvitedBy")
  invitationsAccepted  OrganizationInvitation[] @relation("OrganizationInvitationAcceptedBy")

  @@index([accountId])
  @@index([organizationId])
  @@index([organizationRoleId])
  @@index([departmentId])
  @@map("organization_managers")
}